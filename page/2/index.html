<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Yun">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Yun">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yun">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/">





  <title>Yun</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yun</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code and Love.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/18/Docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/18/Docker/" itemprop="url">Docker初步尝试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-18T08:32:11+08:00">
                2019-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="什么是docker"><a href="#什么是docker" class="headerlink" title="什么是docker"></a>什么是docker</h3><blockquote>
<p>Docker is the company driving the container movement and the only container platform provider to address every application across the hybrid cloud. Today’s businesses are under pressure to digitally transform but are constrained by existing applications and infrastructure while rationalizing an increasingly diverse portfolio of clouds, datacenters and application architectures. Docker enables true independence between applications and infrastructure and developers and IT ops to unlock their potential and creates a model for better collaboration and innovation.</p>
<p>Docker是推动集装箱运输的公司，也是唯一能够解决混合云中每个应用程序的容器平台提供商。今天的企业面临数字化转型的压力，但受到现有应用程序和基础架构的限制，同时使云，数据中心和应用程序架构的组合日益多样化。 Docker实现了应用程序和基础架构之间的真正独立性，开发人员和IT运营商可以释放潜力，并创建更好的协作和创新模型</p>
</blockquote>
<h3 id="为什么用docker"><a href="#为什么用docker" class="headerlink" title="为什么用docker"></a>为什么用docker</h3><p>众所周知，odoo这个软件出奇的难以安装，需要的依赖又多，那么，，，，有没有这样的一款软件，让你免除这些痛苦，能很轻易的上手操作odoo，而免除这些痛苦呢。</p>
<p>有的，那就是docker，docker是一个容器，它保存的是odoo等配置的镜像，我们将配置好的odoo等的依赖软件上传到docker的仓库，那么你以及你的队友，无论是从ubuntu迁移到centos，还是windows迁移linux，只要主机安装了docker，就完全无需考虑配置问题，docker可以迅速的帮你配置好一切，并且保持环境，配置一致。</p>
<p>而docker所做的呢，就是类似在你的系统中安装了一个虚拟机，脱离了平台，配置就有了保证。虽然比喻并不恰当，但还是很形象的。</p>
<h3 id="安装配置"><a href="#安装配置" class="headerlink" title="安装配置"></a>安装配置</h3><ol>
<li>查看内核版本是否支持Docker</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>更新软件包</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y upgrade</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>查看是否安装过旧版本</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep docker</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>如果有就移除旧版本</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker \</span><br><span class="line">           docker-client \</span><br><span class="line">           docker-client-latest \</span><br><span class="line">           docker-common \</span><br><span class="line">           docker-latest \</span><br><span class="line">           docker-latest-logrotate \</span><br><span class="line">           docker-logrotate \</span><br><span class="line">           docker-selinux \</span><br><span class="line">           docker-engine-selinux \</span><br><span class="line">           docker-engine</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>使用脚本安装</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.docker.com/ | sh</span><br><span class="line">sh get-docker.sh</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/14/架构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/14/架构/" itemprop="url">敏捷开发的新名词——DevOps</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-14T20:22:15+08:00">
                2019-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a><code>DevOps</code></h3><p>是一组过程，方法与系统的统称，用于促进开发(应用程序/软件工程)，技术运营和质量保障部门之间的沟通，协作与整合。</p>
<p>它的出现是由于软件行业日益清晰地认识到：为了按时交付软件产品和服务，开发和运营工作必须紧密合作</p>
<h4 id="职责"><a href="#职责" class="headerlink" title="职责"></a>职责</h4><ul>
<li>开发运维协作</li>
<li>自动化，基础设施即代码</li>
<li>持续集成/测试</li>
<li>持续交付/部署</li>
<li>持续监控/反馈</li>
</ul>
<h3 id="集群"><a href="#集群" class="headerlink" title="集群"></a>集群</h3><p>一组独立的计算机系统构成一个松耦合的多处理器系统，它们之间通过网络实现进程间通信</p>
<p>应用程序可以通过网络共享内存进行消息传送，实现分布式计算机</p>
<h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><p>1.基于DNS的负载均衡</p>
<p>通过DNS服务中的随机名字解析来实现负载均衡，在DNS服务器中，可以为多个不同地址配置同一个名字，而最终查询这个名字的客户机将在解析这个名字时，得到其中一个地址。</p>
<p>因此，对于同一个名字，不同的客户机会得到不同的地址，他们也就访问不同地址上的Web服务器，从而达到负载均衡的目的</p>
<p>2.反向代理负载均衡</p>
<p>3.基于NAT的负载均衡</p>
<p>网络地址转换为在内部地址和外部地址之间进行转换，以便具备内部地址的计算机能访问外部网络，而当外部网络中的计算机访问地址转换网关拥有的某一外部地址时，地址转换网关能将其转发到一个映射的内部地址上，因此如果地址转换网关能将每个连接均匀转换为不同的内部服务器地址，此后外部网络中的计算机就各自与自己转换得到的地址上服务器进行通信，从而达到负载分担的目的</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/13/计算机网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/13/计算机网络/" itemprop="url">网络协议</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-13T14:25:53+08:00">
                2019-09-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><p>SourceShell</p>
<p>为建立在应用层基础上的安全协议。</p>
<p>专为远程登陆会话和其他网络服务提供安全性的协议，利用SSH协议可以有效防止远程登陆过程中的信息泄露问题</p>
<p>前提：ftp，pop和telnet都不安全，使用明文传送口令和数据</p>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h3 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h3><blockquote>
<p>套接字是一个位于网络中特定节点的服务所具有的标识符，套接字包含一个节点地址和一个端口号，用来标识这一服务</p>
</blockquote>
<h5 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h5><p>大多数应用层协议如FTP，SMTP和POP3使用Socket来简历客户端和服务端之间的连接，从而进行数据的交换</p>
<h5 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h5><ul>
<li><p>==所有连接必须是唯一的==</p>
</li>
<li><p>套接字只允许在通信线程之间交换无结构字节流</p>
</li>
</ul>
<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><h4 id="Socket-1"><a href="#Socket-1" class="headerlink" title="Socket"></a>Socket</h4><p>属于传输层，是对TCP/IP协议的实现，包含TCP/UDP，它是所有通信协议的基础，HTTP协议需要socket支持，以socket作为基础</p>
<ul>
<li>长连接通信，容易被防火墙拦截，可以通过心跳机制来实现，开发难度大</li>
<li>传输的数据一般是字符串，可读性不强</li>
<li>性能相对于是最优的</li>
<li>不便于 推广</li>
</ul>
<h4 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h4><p>属于应用层协议，对socket进行了封装</p>
<ul>
<li>跨平台</li>
<li>传数据还是不够友好</li>
<li>对第三方应用提供的服务，希望对外暴露服务的接口</li>
</ul>
<h4 id="WebService"><a href="#WebService" class="headerlink" title="WebService"></a>WebService</h4><p>改进HTTP缺点</p>
<ul>
<li>数据封装不够友好–&gt; 用xml封装数据</li>
<li>希望给第三方应用提供web方式的服务(http+xml) = web service</li>
</ul>
<h4 id="TCP三次握手"><a href="#TCP三次握手" class="headerlink" title="TCP三次握手"></a>TCP三次握手</h4><ol>
<li>A发送SYN=1，随机产生seq number</li>
<li>B收到请求，发送ACK=1，SYN=1，ack number=seq number+1，随机产生seq number</li>
<li>A检查ack number，发送ACK=1，ack number=seq+1</li>
</ol>
<h2 id="IP"><a href="#IP" class="headerlink" title="IP"></a>IP</h2><h3 id="私有IP地址"><a href="#私有IP地址" class="headerlink" title="私有IP地址"></a>私有IP地址</h3><ul>
<li>A类IP地址中：10.0.0.0–10.255.255.255</li>
<li>B类IP地址中：172.16.0.0–172.31.255.255</li>
<li>C类IP地址中：192.168.0.0–192.168.255.255</li>
</ul>
<h3 id="公有地址"><a href="#公有地址" class="headerlink" title="公有地址"></a>公有地址</h3><p>除私有地址之外的地址</p>
<h3 id="回环地址"><a href="#回环地址" class="headerlink" title="回环地址"></a>回环地址</h3><p>凡是以127开头的地址，都是回环地址</p>
<p>给回环地址发送的数据包会被主机IP层获取，不进入链路层</p>
<h2 id="HTTP-1"><a href="#HTTP-1" class="headerlink" title="HTTP"></a>HTTP</h2><p><code>HyperText Transfer Protocol</code>: 超文本传输协议</p>
<h3 id="HTTP格式"><a href="#HTTP格式" class="headerlink" title="HTTP格式"></a>HTTP格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#请求行：请求方法URI协议/版本</span><br><span class="line">POST /index.html HTTP/1.1   请求方法 url 协议/版本号</span><br><span class="line">#请求头</span><br><span class="line">Host: localhost  主机地址</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-cn,zh;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Referer: &lt;a target=_blank href=&quot;http://localhost/&quot; style=&quot;color: rgb(51, 102, 153); text-decoration: none;&quot;&gt;http://localhost/&lt;/a&gt;</span><br><span class="line">Content-Length：25</span><br><span class="line">Content-Type：application/x-www-form-urlencoded</span><br><span class="line">                    请求空行 标志着请求头结束，请求正文（请求体）的开始</span><br><span class="line">#请求体</span><br><span class="line">username=aa&amp;password=1234</span><br></pre></td></tr></table></figure>

<p>HTTP1.1 默认进行持久连接</p>
<h4 id="HTTP工作过程"><a href="#HTTP工作过程" class="headerlink" title="HTTP工作过程"></a>HTTP工作过程</h4><ol>
<li>地址解析</li>
<li>封装HTTP请求数据包</li>
<li>封装成TCP包，建立TCP连接</li>
<li>客户机发送请求响应</li>
<li>服务器响应</li>
<li>服务器关闭TCP连接</li>
</ol>
<h4 id="HTTP中GET和POST的区别"><a href="#HTTP中GET和POST的区别" class="headerlink" title="HTTP中GET和POST的区别"></a>HTTP中GET和POST的区别</h4><p>HTTP定义了四种方法GET,POST,PUT,DELETE对应着四种资源的操作方式查，改，增，删。</p>
<h5 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h5><ul>
<li>所以GET用于获取信息时而不修改信息，是安全的</li>
<li>GET请求的数据会附加在URL之后，可提交的数据量跟URL的长度有关，而URL的长度是和浏览器和服务器相关的</li>
<li>GET请求可以缓存</li>
<li>GET请求只支持URL编码</li>
<li>大多数浏览器限制url长度为2K个字节，而大多数服务器最多处理64K大小的URL，虽然GET可以带body，但不能保证服务器会读取</li>
</ul>
<h5 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h5><ul>
<li>POST用于修改信息，需要用到表单提交</li>
<li>提交的数据放在HTTP的包体中</li>
<li>POST请求不可缓存</li>
<li>产生两个TCP数据包，浏览器先发送header，服务器响应100，再发送data，服务器响应200，firefox除外</li>
</ul>
<h4 id="HTTPS实现原理"><a href="#HTTPS实现原理" class="headerlink" title="HTTPS实现原理"></a>HTTPS实现原理</h4><ol>
<li>SSL客户端发出一个消息给服务器，这个消息里面包含了自己可实现的算法列表和其他的一些需要的信息，SSL的服务器端会回应一个数据包，这里面确定了这次通信所需要的算法，然后服务器向客户端返回证书（证书里包含了服务器信息：域名。申请证书的公司，公共密匙）</li>
<li>Client在收到服务器返回的证书后，判断签发这个证书的公共签发机构，并使用这个机构的公共密匙确认签名是否有效，客户端还会确保证书中列出的域名就是它正在连接的域名</li>
<li>如果确认证书有效，那么生成对称密匙并使用服务器的公共密匙进行加密。然后发送给服务器，服务器使用它的私匙对它进行解密，这样两台计算机可以开始进行对称加密进行通信</li>
</ol>
<h5 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h5><p>HTTP+SSL层，HTTPS的安全基础是SSL，HTTPS端口号：443</p>
<h5 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h5><p>安全套接层，通过证书认证来确保客户端和网站服务器之间的数据是加密安全的</p>
<h2 id="WebService-1"><a href="#WebService-1" class="headerlink" title="WebService"></a>WebService</h2><h3 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h3><h3 id="WSDL"><a href="#WSDL" class="headerlink" title="WSDL"></a>WSDL</h3><p>web service description language-WebService描述语言</p>
<p>通过xml形式说明服务在什么地方–地址</p>
<p>通过xml形式说明服务提供什么方法 – 如何调用</p>
<h3 id="SOAP"><a href="#SOAP" class="headerlink" title="SOAP"></a>SOAP</h3><p>是XML WebService的通信协议</p>
<p>HTTP+XML</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/10/分支预测/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/10/分支预测/" itemprop="url">CPU对循环语句的优化方案-分支预测</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-10T23:10:17+08:00">
                2019-09-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="分支预测"><a href="#分支预测" class="headerlink" title="分支预测"></a>分支预测</h3><p>定义： 所谓分支预测，即在CPU的运行会预测向哪个分支前进</p>
<p>原因： 因为现代处理器有很长的流水线，启动和制动都需要很长的时间，如果通过预测行走路线，则会节省很多时间</p>
<blockquote>
<p> CPU在遭遇分支时，CPU的分支预测器根据历史模式预测可能性最高的分支，</p>
<ul>
<li><p>然后依靠指令流水线实现一边计算分支中的判断条件</p>
</li>
<li><p>一边已经进入最有可能的分支开始了接下来的“投机性计算”</p>
</li>
</ul>
<p>如果最后预测错误，那么投机性计算结果将被抛弃，重新进入正确的分支进行计算。在现代处理器中，流水线级数很长，一次分支预测失败可能损失20个左右的时钟周期。</p>
</blockquote>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[掘金社区] <a href="https://juejin.im/post/5d380d26e51d45777811746f" target="_blank" rel="noopener">https://juejin.im/post/5d380d26e51d45777811746f</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/06/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/06/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-06T19:46:41+08:00">
                2019-09-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Welcome"><a href="#Welcome" class="headerlink" title="Welcome!"></a>Welcome!</h3><p>The website is stored some my markdown, and sometimes i might refer other’s words directly. so i need transfer my note to original works.</p>
<p>Then again, if there is infring, please contact me wo delete.</p>
<p>Email: <a href="mailto:dml_pig@163.com" target="_blank" rel="noopener">dml_pig@163.com</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/02/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/02/Linux/" itemprop="url">Linux概念</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-02T22:42:27+08:00">
                2019-09-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h5 id="用户空间-内核空间"><a href="#用户空间-内核空间" class="headerlink" title="用户空间/内核空间"></a>用户空间/内核空间</h5><blockquote>
<p>现在操作系统都是采用虚拟存储器，那么对32位操作系统而言，它的寻址空间（虚拟存储空间）为4G（2的32次方）。<br>操作系统的核心是内核，独立于普通的应用程序，可以访问受保护的内存空间，也有访问底层硬件设备的所有权限。为了保证用户进程不能直接操作内核（kernel），保证内核的安全，操作系统将虚拟空间划分为两部分，一部分为内核空间，一部分为用户空间。</p>
</blockquote>
<h5 id="进程切换"><a href="#进程切换" class="headerlink" title="进程切换"></a>进程切换</h5><blockquote>
<p>为了控制进程的执行，内核必须有能力挂起正在CPU上运行的进程，并恢复以前挂起的某个进程的执行。这种行为被称为进程切换。因此可以说，任何进程都是在操作系统内核的支持下运行的，是与内核紧密相关的，并且进程切换是非常耗费资源的</p>
</blockquote>
<h5 id="进程阻塞"><a href="#进程阻塞" class="headerlink" title="进程阻塞"></a>进程阻塞</h5><blockquote>
<p>正在执行的进程，由于期待的某些事件未发生，如请求系统资源失败、等待某种操作的完成、新数据尚未到达或无新工作做等，则由系统自动执行阻塞原语(Block)，使自己由运行状态变为阻塞状态。可见，进程的阻塞是进程自身的一种主动行为，也因此只有处于运行态的进程（获得了CPU资源），才可能将其转为阻塞状态。当进程进入阻塞状态，是不占用CPU资源的。</p>
</blockquote>
<h5 id="文件描述符"><a href="#文件描述符" class="headerlink" title="文件描述符"></a>文件描述符</h5><blockquote>
<p>内核为了高效管理已被打开的文件所创建的索引，用于指向被打开的文件，所有执行IO操作的系统调用都通过文件描述符，文件描述符是一个简单的非负整数，用以表明每个被进程打开的文件。</p>
<p>程序刚刚启动时，第一个打开的文件是0，第二个是1，也可理解为文件的身份id</p>
</blockquote>
<h5 id="缓存IO"><a href="#缓存IO" class="headerlink" title="缓存IO"></a>缓存IO</h5><blockquote>
<p>缓存I/O又称为标准I/O，大多数文件系统的默认I/O操作都是缓存I/O。在Linux的缓存I/O机制中，操作系统会将I/O的数据缓存在文件系统的页缓存中，即数据会先被拷贝到操作系统内核的缓冲区中，然后才会从操作系统内核的缓冲区拷贝到应用程序的地址空间。</p>
</blockquote>
<h3 id="系统文件"><a href="#系统文件" class="headerlink" title="系统文件"></a>系统文件</h3><table>
<thead>
<tr>
<th>目录</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>根目录</td>
</tr>
<tr>
<td>/boot</td>
<td>引导程序，存放内核</td>
</tr>
<tr>
<td>/sbin</td>
<td>超级用户的命令集</td>
</tr>
<tr>
<td>/bin</td>
<td>普通用户的命令集</td>
</tr>
<tr>
<td>/lib</td>
<td>系统引导和命令集的共享库</td>
</tr>
<tr>
<td>/dev</td>
<td>设备文件目录</td>
</tr>
<tr>
<td>/home</td>
<td>普通用户home目录</td>
</tr>
<tr>
<td>/root</td>
<td>root用户home目录</td>
</tr>
<tr>
<td>/etc</td>
<td>全局配置文件</td>
</tr>
<tr>
<td>/usr</td>
<td>命令库文件和通常操作不会修改的文件</td>
</tr>
<tr>
<td>/proc</td>
<td>特殊文件目录</td>
</tr>
<tr>
<td>/opt</td>
<td>可选择的文件目录</td>
</tr>
<tr>
<td>/mnt</td>
<td>临时挂载目录</td>
</tr>
<tr>
<td>/media</td>
<td>挂载的媒体设备目录</td>
</tr>
<tr>
<td>/var</td>
<td>内容经常变化的目录</td>
</tr>
<tr>
<td>/tmp</td>
<td>临时文件目录(文件可能会被系统自动清空)</td>
</tr>
<tr>
<td>/lost+found</td>
<td>恢复文件存放的位置</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>目录</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>/usr/lib</td>
<td>目标库文件，动态连接库＋不直接调用的可执行文件</td>
</tr>
<tr>
<td>/usr/bin</td>
<td>使用者使用，不是系统自检所必须可执行文件</td>
</tr>
<tr>
<td>/usr/sbin</td>
<td>管理员使用的非系统必须的可执行文件存放目录</td>
</tr>
<tr>
<td>/usr/share</td>
<td>存放共享文件的目录</td>
</tr>
<tr>
<td>/usr/include</td>
<td>linux下开发和编译所需要的头文件</td>
</tr>
<tr>
<td>/usr/local</td>
<td>安装本地程序一般的默认路径</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>目录</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>/etc/rc</td>
<td>启动，或改变运行级时运行的脚本或脚本的目录</td>
</tr>
<tr>
<td>/etc/passwd</td>
<td>用户数据库，其中的域给出了用户名，真实姓名</td>
</tr>
<tr>
<td></td>
<td>用户起始目录，加密口令和用户的其他信息</td>
</tr>
<tr>
<td>/etc/fdprm</td>
<td>软盘参数表</td>
</tr>
<tr>
<td>/etc/fstab</td>
<td>指定启动时需要自动安装的文件系统列表</td>
</tr>
<tr>
<td>/etc/group</td>
<td>组信息</td>
</tr>
<tr>
<td>/etc/inittab</td>
<td>init的配置文件</td>
</tr>
<tr>
<td>/etc/issue</td>
<td>包括用户在登录提示符前的输出信息</td>
</tr>
<tr>
<td></td>
<td>通常包括系统的一段短说明或欢迎信息，具体内容由系统管理员确定</td>
</tr>
<tr>
<td>/etc/magic</td>
<td>“file”的配置文件</td>
</tr>
<tr>
<td>/etc/motd</td>
<td>message of the day,用户成功登陆后自动输出</td>
</tr>
<tr>
<td>/etc/mtab</td>
<td>当前安装的文件系统列表</td>
</tr>
<tr>
<td>/etc/shadow</td>
<td></td>
</tr>
<tr>
<td>/etc/login.defs</td>
<td>login命令的配置文件</td>
</tr>
<tr>
<td>/etc/printcap</td>
<td>类似/etc/termcap，针对打印机</td>
</tr>
<tr>
<td>/etc/termcap</td>
<td>终端性能数据库。说明不同的终端用什么“转义序列”控制</td>
</tr>
<tr>
<td></td>
<td>写程序时不直接输入转义序列，而是从中查找要做的工作的正确序列</td>
</tr>
<tr>
<td>/etc/profile</td>
<td>登录或启动bourne或c shells执行的文件</td>
</tr>
<tr>
<td>/etc/csh.login</td>
<td>同上</td>
</tr>
<tr>
<td>/etc/csh.cshrc</td>
<td>同上，这允许系统管理员为所有用户建立全局缺省环境</td>
</tr>
<tr>
<td>/etc/securetty</td>
<td>确认安全终端，即哪个终端允许超级用户登录</td>
</tr>
<tr>
<td></td>
<td>一般只列出虚拟控制台，这样就不可能通过调制解调器或网络闯入系统并得到超级用户特权</td>
</tr>
<tr>
<td>/etc/shells</td>
<td>列出可以使用的shell</td>
</tr>
<tr>
<td></td>
<td>chsh命令允许用户在本文件指定范围内改变登录的shell。</td>
</tr>
<tr>
<td></td>
<td>提供一台机器ftp服务的服务进程ftpd检查用户shell是否在/etc/shells文件中，如果不是，将不允许该用户登录</td>
</tr>
</tbody></table>
<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><h4 id="守护进程"><a href="#守护进程" class="headerlink" title="守护进程"></a>守护进程</h4><blockquote>
<p>Daemon()程序是一直运行的服务端程序，又称为守护进程。通常在系统后台运行，没有控制终端，不与前台交互，Daemon程序一般作为系统服务使用。Daemon是长时间运行的进程，通常在系统启动后就运行，在系统关闭时才结束。一般说Daemon程序在后台运行，是因为它没有控制终端，无法和前台的用户交互。Daemon程序一般都作为服务程序使用，等待客户端程序与它通信。我们也把运行的Daemon程序称作守护进程。</p>
</blockquote>
<h3 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><h5 id="阻塞"><a href="#阻塞" class="headerlink" title="阻塞"></a>阻塞</h5><p>一直等待数据就绪再返回</p>
<h5 id="非阻塞"><a href="#非阻塞" class="headerlink" title="非阻塞"></a>非阻塞</h5><p>无论什么情况都会立即返回</p>
<h5 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h5><p>一直阻塞进程，直到IO操作结束</p>
<h5 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h5><p>不会阻塞调用者进程</p>
<h4 id="IO过程"><a href="#IO过程" class="headerlink" title="IO过程"></a>IO过程</h4><ul>
<li>等待数据准备</li>
<li>将数据从内核拷贝到用户进程中</li>
</ul>
<h4 id="IO模型"><a href="#IO模型" class="headerlink" title="IO模型"></a>IO模型</h4><ul>
<li>Blocking IO - 阻塞IO</li>
<li>NoneBlocking IO - 非阻塞IO</li>
<li>IO multiplexing - IO多路复用</li>
<li>signal driven IO - 信号驱动IO</li>
<li>asynchronous IO - 异步IO</li>
</ul>
<h5 id="阻塞IO"><a href="#阻塞IO" class="headerlink" title="阻塞IO"></a>阻塞IO</h5><p>IO执行的两个过程都被block</p>
<h5 id="非阻塞IO"><a href="#非阻塞IO" class="headerlink" title="非阻塞IO"></a>非阻塞IO</h5><ul>
<li><p>用户进程不断询问kernel数据准备好没有</p>
</li>
<li><p>用户进程没有阻塞，内核被阻塞</p>
</li>
</ul>
<h5 id="IO多路复用"><a href="#IO多路复用" class="headerlink" title="IO多路复用"></a>IO多路复用</h5><p>优点：系统开销小，系统不必创建(维护)进程/线程，减小了系统开销</p>
<p>==select==：轮询</p>
<ul>
<li>处理多个连接：监听多个socket连接，任意一个数据就绪了就返回进行拷贝工作</li>
<li>select底层通过轮询机制来判断socket读写是否就绪，会增加开销，支持的文件描述符数量过少</li>
<li>每个socket都是non-blocking，</li>
</ul>
<p>poll：</p>
<p>==epoll==：事件回调</p>
<blockquote>
<p>在内核中当文件描述符被激活时都会调用一个回调函数，epoll根据回调函数直接定位文件描述符，极大提高了效率，同时也减轻了CPU的负担，不用一遍遍轮询</p>
</blockquote>
<h5 id="异步IO"><a href="#异步IO" class="headerlink" title="异步IO"></a>异步IO</h5><p>读取操作通知内核进行读取并将数据拷贝至进程中</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/17/JVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PPCoder">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/author.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/17/JVM/" itemprop="url">JVM笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-17T19:38:10+08:00">
                2019-07-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><hr>
<p><img src="C:%5CUsers%5CHP%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1560514540657.png" alt="1560514540657"></p>
<h2 id="java运行时数据区"><a href="#java运行时数据区" class="headerlink" title="java运行时数据区"></a>java运行时数据区</h2><p>java虚拟机在执行java程序的过程中会把它所管理的内存划分为若干个不同的数据区域。</p>
<p>方法区</p>
<p>堆</p>
<p>运行时常量池</p>
<p>程序计数器：native method is undefined</p>
<p>本地方法栈：native</p>
<p>虚拟机栈：thread–&gt;VM stack, method–&gt;frame</p>
<hr>
<h2 id="java内存模型"><a href="#java内存模型" class="headerlink" title="java内存模型"></a>java内存模型</h2><p>主要目标是定义程序中各个变量的访问规则，即在虚拟机中将变量存储到内存和从内存中去除变量这样的底层细节。</p>
<p>方法区：（非堆，non-heap，metaspace（1.8元数据区），perm space（1.7永久代））</p>
<p>堆：Old老年代，Young新生代（eden[8]，survivor[2]（from[1]，to[1]））</p>
<p>java vm 视图监视器：jvisualvm</p>
<p>gc{</p>
<p>}</p>
<p>垃圾收集器：（好坏评判标准：吞吐量和停顿时间）</p>
<ul>
<li>Serial 单线程收集器，收集时暂停其他线程</li>
<li>Serial Old ↑ 标记-整理</li>
<li>ParNew 多线程gc 收集时暂停其他线程</li>
<li>Parallel Scanvenge 多线程并行gc 保证<strong>吞吐量优先</strong></li>
<li>Parallel Old↑</li>
<li>CMS：concurrent Mark Sweep 更加关注回收<strong>停顿时间</strong> 标记-清除 初始标记–并发标记–重新标记–并发清理</li>
<li>G1 分代收集（存在于新生代和老年代）空间整理（标记-整理） 停顿时间可设定</li>
</ul>
<p>1.关于java虚拟机栈</p>
<p>thread–&gt;VM stack, method–&gt;frame</p>
<p>由此可见，一个线程对应着一个虚拟机栈，一个方法对应着一个栈帧，由于栈是后进先出，正对应方法的调用规则，后调用的先返回。方法内部的局部变量等则自然保存在每个栈帧中。</p>
<p>关于pc寄存器</p>
<p>pc寄存器是java调试等程序中断操作，代码指令运行的行数，恢复时去这里查找。重要的一点就是，native方法是undefined</p>
<p>2.运行时数据区是java程序执行过程中各种变量方法存储的逻辑区域，便于管理。</p>
<p>内存结构模型则是实现这些逻辑区域的底层实现</p>
<p>3.内存模型的划分</p>
<p>方法区：（非堆，non-heap，metaspace（1.8元数据区），perm space（1.7永久代））</p>
<p>堆：Old老年代，Young新生代（eden[8]，survivor[2]（from[1]，to[1]））</p>
<p>4.确定对象为垃圾的算法：引用-标记，可达性分析</p>
<p>5.常用的垃圾回收算法：标记-清除，标记-复制，标记-整理</p>
<p>6.垃圾收集器：（<strong>好坏评判标准：吞吐量和停顿时间</strong>）</p>
<ul>
<li>Serial 复制 单线程收集器，收集时暂停其他线程</li>
<li>Serial Old ↑ 标记-整理</li>
<li>ParNew 复制 多线程gc 收集时暂停其他线程</li>
<li>Parallel Scanvenge 复制 多线程并行gc 保证<strong>吞吐量优先</strong></li>
<li>Parallel Old↑ 标记-整理</li>
<li>CMS：（concurrent Mark Sweep）标记-清除  更加关注回收<strong>停顿时间</strong></li>
<li>G1 分代收集（存在于新生代和老年代）空间整理（标记-整理） 停顿时间可设定</li>
</ul>
<p>7.吞吐量：当前时刻下，产生一定量的运算或者操作，也就是速率。收集器中就是说在大量的操作，很短的时间内将垃圾收集完成。</p>
<p>停顿时间：当前作业操作被其他操作打断，到恢复前的一段时间就是停顿时间。即进行回收操作时，占用了其他操作的时间，对于其他操作来说，即产生了停顿时间</p>
<h2 id="对象已死吗？可达性分析"><a href="#对象已死吗？可达性分析" class="headerlink" title="对象已死吗？可达性分析"></a>对象已死吗？可达性分析</h2><p><strong>三种类型的引用定义了三种不同层次的可达性级别，由强到弱排列如下：</strong></p>
<p>　　<strong>SoftReference &gt;</strong> <strong>WeakReference &gt; PhantomReference</strong></p>
<p>　　越弱表示对垃圾回收器的限制越少，对象越容易被回收。</p>
<h3 id="SoftReference"><a href="#SoftReference" class="headerlink" title="SoftReference"></a>SoftReference</h3><p>　　<strong>SoftReference</strong>用来实现一些内存敏感的缓存(Soft references are for implementing memory-sensitive caches)，只要内存空间足够，对象就会保持不被回收。</p>
<p>　　反之，当宿主进程的内存空间不足时，对象就会被GC回收。</p>
<p>　　所以SoftReference意味着：<strong>hold on until you can’t.</strong></p>
<h3 id="WeakReference"><a href="#WeakReference" class="headerlink" title="WeakReference"></a>WeakReference</h3><p>　　<strong>W**</strong>eakReference<strong>可以用来实现一些规范化映射（</strong>WeakHashMap**），其中key或者value当它们不再被引用时可以自动被回收。</p>
<p>　　当你想引用一个对象，但是这个对象有自己的生命周期，你不想介入这个对象的生命周期，这时候你就是用弱引用。</p>
<p>　　这个引用不会在对象的垃圾回收判断中产生任何附加的影响。</p>
<h3 id="PlantomReference"><a href="#PlantomReference" class="headerlink" title="PlantomReference"></a>PlantomReference</h3><p>　　<strong>PlantomReference</strong>和WeakReference一样，也不会介入引用对象的生命周期。</p>
<p>　　PhantomReference用来调度一些预验清理动作，提供比Java清理机制更灵活的处理方式。（Phantom references are for scheduling pre-mortem cleanup actions in a more flexible way than is possible with the Java finalization mechanism.）</p>
<p>　　PlantomReference比较特殊，它的get方法总是返回null，所以你得不到它引用的对象。</p>
<p>　　它保存<strong>ReferenceQueue</strong>中的轨迹。</p>
<p>　　它允许你知道对象何时从内存中移除。</p>
<h2 id="虚拟机指令"><a href="#虚拟机指令" class="headerlink" title="虚拟机指令"></a>虚拟机指令</h2><h4 id="修改gc收集器"><a href="#修改gc收集器" class="headerlink" title="修改gc收集器"></a>修改gc收集器</h4><p>tomcat的catalina.sh配置文件 JAVA_OPTS</p>
<p>jinfo -flags 参数 pid//实时修改</p>
<p>Java -XX：参数 -jar xxx.jar //启动时设置</p>
<h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><p>jps -l //查看java进程</p>
<p>jstat -class pid 1000（时间） 10（次数）//查看类的信息</p>
<p>jstat -gc </p>
<p>jstack pid</p>
<p>jmap -heap pid</p>
<p>jmap </p>
<p>HeapDumpOnOutOfMemoryError //堆内存溢出时dump</p>
<h4 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h4><p>-XX：+UsePrintGCDetails</p>
<p>-XX：+UsePrintGCTimeStamps</p>
<h3 id="类的加载"><a href="#类的加载" class="headerlink" title="类的加载"></a>类的加载</h3><ul>
<li>创建类的实例</li>
<li>拿到类的静态变量</li>
<li>调用类的静态方法</li>
<li>初始化子类</li>
</ul>
<h4 id="gc分析工具"><a href="#gc分析工具" class="headerlink" title="gc分析工具"></a>gc分析工具</h4><p>gceasy.io(在线)</p>
<p>gcviewer(本地)</p>
<p>1.JVM常用参数：</p>
<p>-XX:+UseParallelGC</p>
<p>-XX:+UseParNewGC</p>
<p>-Xms</p>
<p>-Xmx</p>
<p>-Xmn</p>
<p>-XX:+UsePrintGCDetails</p>
<p>-XX:+UsePrintGCTimeStamps</p>
<p>2.JVM常用的命令和工具</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">jps -l //查看java进程</span><br><span class="line"></span><br><span class="line">jstat -class pid 1000（时间） 10（次数）//查看类的信息</span><br><span class="line"></span><br><span class="line">jstat -gc pid &lt;interval&gt;  &lt;count&gt; //打印gc信息</span><br><span class="line"></span><br><span class="line">jstack pid //查看线程调用堆栈</span><br><span class="line"></span><br><span class="line">jmap -heap pid //打印java进程堆信息</span><br><span class="line"></span><br><span class="line">jmap -dump:file=xxx pid //dump堆到文件</span><br><span class="line"></span><br><span class="line">HeapDumpOnOutOfMemoryError //堆内存溢出时dump</span><br></pre></td></tr></table></figure>

<p>jps：虚拟机进程状况工具</p>
<p>jstat：虚拟机统计信息监视工具</p>
<p>jinfo：java配置信息工具</p>
<p>jmap：java内存映像工具</p>
<p>jhat：虚拟机堆转储快照分析工具</p>
<p>jstack：java堆栈跟踪工具</p>
<p>jconsole：java监视与管理控制台</p>
<p>visualVM：多合一故障处理工具</p>
<p>3.</p>
<p>方法区：类信息，常量，静态变量，即时编译后的代码</p>
<p>堆：对象和数据实例</p>
<p>运行时常量池：常量</p>
<p>程序计数器：字节码的行号</p>
<p>本地方法栈：native方法</p>
<p>虚拟机栈：局部变量表，操作数栈，动态链接，出口</p>
<p>4.</p>
<p>堆： <code>-Xmx20m -Xms5m -XX:+HeapDumpOnOutOfMemoryError while(1){new Object();}</code></p>
<p>方法区：<code>-XX:PermSize20M  -XX:MaxPermSize40M while(1){CglibVean bean=new CglibBean();}</code></p>
<p>5.</p>
<p>递归循环调用：StackOverflow</p>
<p>查看死锁：jstack -l pid</p>
<p>6.</p>
<p>.<br>├─类加载器<br>├──装载<br>|   ├── 找到class文件并转换为流的形式<br>|   ├── 存储到各个区域<br>|   └── 创建Class对象<br>├──链接<br>|   ├── 验证<br>|   ├── 准备<br>|   └── 解析<br>├── 初始化<br>├─垃圾收集器<br>├── 方法区<br>└── 堆</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/author.jpg" alt="PPCoder">
            
              <p class="site-author-name" itemprop="name">PPCoder</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PPCoder</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
